# Trait Flow MVP

æ—¥æ¬¡ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã¨AIä»‹å…¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã‚ˆã‚‹ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ã‚µãƒãƒ¼ãƒˆã‚¢ãƒ—ãƒª

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/k-naruse3209/trait-flow-mvp.git
cd trait-flow-mvp

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã¯ä»¥ä¸‹ã‚’å‚ç…§
# docs/deployment/environment_setup.md
```

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç´¢å¼•

### 1. æ¦‚è¦ãƒ»ä»•æ§˜

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [`docs/overview/prototype_brief_ja.md`](docs/overview/prototype_brief_ja.md) | ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ¦‚è¦ï¼ˆã‹ã‚“ãŸã‚“èª¬æ˜ï¼‰ |
| [`docs/overview/prototype_brief_vi.md`](docs/overview/prototype_brief_vi.md) | Tá»•ng quan prototype (Tiáº¿ng Viá»‡t) |
| [`docs/prototype_spec_ja.md`](docs/prototype_spec_ja.md) | **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä»•æ§˜æ›¸ï¼ˆç°¡æ˜“ç‰ˆï¼‰** â­ |

### 2. è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [`docs/design/architecture_overview.md`](docs/design/architecture_overview.md) | **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦** â­ |
| [`docs/design/data_model.md`](docs/design/data_model.md) | ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ãƒ»ERå›³ |
| [`docs/design/api_contract.md`](docs/design/api_contract.md) | **APIå¥‘ç´„æ›¸** â­ |
| [`docs/design/backend_functions.md`](docs/design/backend_functions.md) | Edge Functions è¨­è¨ˆ |
| [`docs/design/frontend_flows.md`](docs/design/frontend_flows.md) | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ |
| [`docs/design/prompt_templates.md`](docs/design/prompt_templates.md) | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ |
| [`docs/design/error_codes.md`](docs/design/error_codes.md) | **ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä»•æ§˜** ğŸ†• |

### 3. å®Ÿè£…ã‚¬ã‚¤ãƒ‰

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [`docs/deployment/environment_setup.md`](docs/deployment/environment_setup.md) | **ç’°å¢ƒè¨­å®šã‚¬ã‚¤ãƒ‰** â­ ğŸ†• |
| [`docs/security/security_implementation.md`](docs/security/security_implementation.md) | **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…** â­ ğŸ†• |
| [`docs/testing/test_specifications.md`](docs/testing/test_specifications.md) | **ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸** ğŸ†• |
| [`docs/design/project_plan.md`](docs/design/project_plan.md) | å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆ8é€±é–“ï¼‰ |

### 4. ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | èª¬æ˜ |
|-------------|------|
| [`docs/slides/prototype_pitch_ja.md`](docs/slides/prototype_pitch_ja.md) | ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™ç´ æ¡ˆï¼ˆæ—¥æœ¬èªï¼‰ |
| [`docs/slides/prototype_pitch_en.md`](docs/slides/prototype_pitch_en.md) | Presentation Outline (English) |
| [`docs/slides/prototype_pitch_vi.md`](docs/slides/prototype_pitch_vi.md) | BÃ i thuyáº¿t trÃ¬nh (Tiáº¿ng Viá»‡t) |

**å‡¡ä¾‹:** â­ = å¿…èª­ | ğŸ†• = æ–°è¦è¿½åŠ 

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯

- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ¦‚è¦ï¼ˆã‹ã‚“ãŸã‚“èª¬æ˜ï¼‰: `docs/overview/prototype_brief_ja.md`
- Tá»•ng quan prototype (Tiáº¿ng Viá»‡t): `docs/overview/prototype_brief_vi.md`
- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä»•æ§˜æ›¸ï¼ˆç°¡æ˜“ç‰ˆï¼‰: `docs/prototype_spec_ja.md`
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦: `docs/design/architecture_overview.md`
- ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«: `docs/design/data_model.md`
- API ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ: `docs/design/api_contract.md`
- Edge Functions è¨­è¨ˆ: `docs/design/backend_functions.md`
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ: `docs/design/frontend_flows.md`
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ: `docs/design/prompt_templates.md`
- å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—: `docs/design/project_plan.md`
- ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™ç´ æ¡ˆï¼ˆæ—¥æœ¬èªï¼‰: `docs/slides/prototype_pitch_ja.md`
- Presentation Outline (English): `docs/slides/prototype_pitch_en.md`
- BÃ i thuyáº¿t trÃ¬nh (Tiáº¿ng Viá»‡t): `docs/slides/prototype_pitch_vi.md`

## Backend (orchestrator)

- `backend/orchestrator` ã«ã¯ FastAPI ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¿½åŠ ã€‚LangGraph / LlamaIndex / pgvector / Cohere Rerank / OpenAI Responses ã‚’åˆ©ç”¨ã™ã‚‹æ§‹æˆã§ã™ã€‚
- `.env.example` ã‚’å‚ç…§ã—ã¦ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã€Cloud Run ãªã©ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

### ä½¿ã„æ–¹ï¼ˆãƒŸãƒ‹æ¤œè¨¼ï¼‰

```bash
# 1) DB ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
psql "$PG_DSN" -f backend/orchestrator/db/schema.sql

# 2) ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•
cd backend/orchestrator
uvicorn app.main:app --reload

# 3) ãƒ¡ãƒ¢ãƒªæŠ•å…¥
curl -XPOST localhost:8000/api/memory/update \
 -H 'content-type: application/json' \
 -d '{"user_id":"u_demo","text":"ç§ã¯çŸ­ãçµè«–ã‹ã‚‰ç­”ãˆã‚‹ã®ãŒå¥½ã","kind":"note"}'

# 4) å¿œç­”
curl -XPOST localhost:8000/api/respond \
 -H 'content-type: application/json' \
 -d '{"user_id":"u_demo","query":"ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¬¡ã®ä¸€æ‰‹ã¯ï¼Ÿ"}'
```

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ`ui/.env.local`ï¼‰ã§ã¯ orchestrator ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç’°å¢ƒå¤‰æ•°ã§æŒ‡å®šã—ã€`fetch('/api/...')` ã‚’å·®ã—æ›¿ãˆã¦ãã ã•ã„ã€‚

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 14, React 18, TypeScript, Tailwind CSS
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Supabase (PostgreSQL, Edge Functions)
- **èªè¨¼**: Supabase Auth (Magic Link)
- **AI**: OpenAI API (gpt-4o-mini)
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Vercel (Frontend), Supabase (Backend)

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- Row Level Security (RLS) ã«ã‚ˆã‚‹å³æ ¼ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- JWT ãƒ™ãƒ¼ã‚¹ã®èªè¨¼
- API ã‚­ãƒ¼ã®å®‰å…¨ãªç®¡ç†
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼ˆUpstash Redisï¼‰

è©³ç´°: [`docs/security/security_implementation.md`](docs/security/security_implementation.md)

## ğŸ“Š é–‹ç™ºçŠ¶æ³

- [x] è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œæˆ
- [ ] é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] Phase 1: èªè¨¼ãƒ»ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- [ ] Phase 2: ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³æ©Ÿèƒ½
- [ ] Phase 3: å±¥æ­´ãƒ»è©•ä¾¡æ©Ÿèƒ½
- [ ] Phase 4: å†…éƒ¨ãƒ†ã‚¹ãƒˆ
- [ ] Phase 5: ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆé‹ç”¨

## ğŸ“ ãŠå•ã„åˆã‚ã›

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹è³ªå•ã¯ Issue ã«ã¦ãŠé¡˜ã„ã—ã¾ã™ã€‚

---

**Last Updated**: 2025-01-XX | **Version**: 0.1.0 (Design Phase)
